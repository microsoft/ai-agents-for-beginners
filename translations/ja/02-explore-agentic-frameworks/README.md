<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "da3523bf8fa456371e21d8d14c67305d",
  "translation_date": "2025-06-11T04:52:05+00:00",
  "source_file": "02-explore-agentic-frameworks/README.md",
  "language_code": "ja"
}
-->
ã€‚Wikipediaã«ã‚ˆã‚‹ã¨ã€ã‚¢ã‚¯ã‚¿ãƒ¼ã¯ã€Œä¸¦è¡Œè¨ˆç®—ã®åŸºæœ¬çš„ãªæ§‹æˆè¦ç´ ã€ã§ã‚ã‚Šã€å—ã‘å–ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¿œã˜ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®æ„æ€æ±ºå®šã€ã•ã‚‰ãªã‚‹ã‚¢ã‚¯ã‚¿ãƒ¼ã®ç”Ÿæˆã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã€æ¬¡ã«å—ã‘å–ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ã®å¿œç­”æ–¹æ³•ã®æ±ºå®šãŒå¯èƒ½ã§ã™ã€‚

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**ï¼šã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®è‡ªå‹•åŒ–ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã‚¿ã‚¹ã‚¯ã€è¨ˆç”»ã‚„èª¿æŸ»æ©Ÿèƒ½ã®ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰ã€‚

AutoGenã®é‡è¦ãªã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ä»¥ä¸‹ã‚’æŒã¤ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã§ã™ï¼š
  - **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä»‹ã—ã¦é€šä¿¡**ã€‚ã“ã‚Œã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯åŒæœŸçš„ã¾ãŸã¯éåŒæœŸçš„ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
  - **è‡ªèº«ã®çŠ¶æ…‹ã‚’ç¶­æŒ**ã—ã€å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã£ã¦å¤‰æ›´ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
  - **å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„çŠ¶æ…‹ã®å¤‰åŒ–ã«å¿œã˜ã¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ**ã€‚ã“ã‚Œã‚‰ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’å¤‰æ›´ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ­ã‚°ã®æ›´æ–°ã€æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã€ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã€APIå‘¼ã³å‡ºã—ãªã©ã®å¤–éƒ¨åŠ¹æœã‚’ç”Ÿã¿å‡ºã™ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

  ä»¥ä¸‹ã¯ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã‚’æŒã¤ç‹¬è‡ªã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹çŸ­ã„ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã§ã™ï¼š

    ```python
    from autogen_agentchat.agents import AssistantAgent
    from autogen_agentchat.messages import TextMessage
    from autogen_ext.models.openai import OpenAIChatCompletionClient


    class MyAssistant(RoutedAgent):
        def __init__(self, name: str) -> None:
            super().__init__(name)
            model_client = OpenAIChatCompletionClient(model="gpt-4o")
            self._delegate = AssistantAgent(name, model_client=model_client)
    
        @message_handler
        async def handle_my_message_type(self, message: MyMessageType, ctx: MessageContext) -> None:
            print(f"{self.id.type} received message: {message.content}")
            response = await self._delegate.on_messages(
                [TextMessage(content=message.content, source="user")], ctx.cancellation_token
            )
            print(f"{self.id.type} responded: {response.chat_message.content}")
    ```

    ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`MyAssistant` has been created and inherits from `RoutedAgent`. It has a message handler that prints the content of the message and then sends a response using the `AssistantAgent` delegate. Especially note how we assign to `self._delegate` an instance of `AssistantAgent`ã¯ãƒãƒ£ãƒƒãƒˆå®Œäº†ã‚’å‡¦ç†ã§ãã‚‹äº‹å‰æ§‹ç¯‰ã•ã‚ŒãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚

    æ¬¡ã«ã€ã“ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’AutoGenã«çŸ¥ã‚‰ã›ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é–‹å§‹ã—ã¾ã™ï¼š

    ```python
    
    # main.py
    runtime = SingleThreadedAgentRuntime()
    await MyAgent.register(runtime, "my_agent", lambda: MyAgent())

    runtime.start()  # Start processing messages in the background.
    await runtime.send_message(MyMessageType("Hello, World!"), AgentId("my_agent", "default"))
    ```

    ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ç™»éŒ²ã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ï¼š

    ```text
    # Output from the console:
    my_agent received message: Hello, World!
    my_assistant received message: Hello, World!
    my_assistant responded: Hello! How can I assist you today?
    ```

- **ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**ã€‚AutoGenã¯è¤‡æ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå”åŠ›ã—ã¦è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã‚’é”æˆã™ã‚‹ã“ã¨ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯é€šä¿¡ã—ã€æƒ…å ±ã‚’å…±æœ‰ã—ã€è¡Œå‹•ã‚’èª¿æ•´ã—ã¦åŠ¹ç‡çš„ã«å•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€åˆ†æã€æ„æ€æ±ºå®šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã®å°‚é–€æ©Ÿèƒ½ã‚„å½¹å‰²ã‚’æŒã¤ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚ä»¥ä¸‹ã«ãã®ä¾‹ã‚’ç¤ºã—ã¾ã™ï¼š

    ```python
    editor_description = "Editor for planning and reviewing the content."

    # Example of declaring an Agent
    editor_agent_type = await EditorAgent.register(
    runtime,
    editor_topic_type,  # Using topic type as the agent type.
    lambda: EditorAgent(
        description=editor_description,
        group_chat_topic_type=group_chat_topic_type,
        model_client=OpenAIChatCompletionClient(
            model="gpt-4o-2024-08-06",
            # api_key="YOUR_API_KEY",
        ),
        ),
    )

    # remaining declarations shortened for brevity

    # Group chat
    group_chat_manager_type = await GroupChatManager.register(
    runtime,
    "group_chat_manager",
    lambda: GroupChatManager(
        participant_topic_types=[writer_topic_type, illustrator_topic_type, editor_topic_type, user_topic_type],
        model_client=OpenAIChatCompletionClient(
            model="gpt-4o-2024-08-06",
            # api_key="YOUR_API_KEY",
        ),
        participant_descriptions=[
            writer_description, 
            illustrator_description, 
            editor_description, 
            user_description
        ],
        ),
    )
    ```

    ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`GroupChatManager`ãŒãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯ãƒ©ã‚¤ã‚¿ãƒ¼ã€ã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ç·¨é›†è€…ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã©ã€ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª¿æ•´ã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚

- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®é€šä¿¡ã‚’å¯èƒ½ã«ã—ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®IDã‚„ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã®å¢ƒç•Œã‚’å¼·åˆ¶ã™ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç’°å¢ƒã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®‰å…¨ã‹ã¤åˆ¶å¾¡ã•ã‚ŒãŸç’°å¢ƒã§å®Ÿè¡Œã§ãã€åŠ¹ç‡çš„ã‹ã¤å®‰å…¨ã«ç›¸äº’ä½œç”¨ã§ãã¾ã™ã€‚æ³¨ç›®ã™ã¹ããƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ä»¥ä¸‹ã®2ã¤ã§ã™ï¼š
  - **ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ã™ã¹ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒåŒã˜ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§å®Ÿè£…ã•ã‚Œã€åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹å˜ä¸€ãƒ—ãƒ­ã‚»ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ã¦ã„ã¾ã™ã€‚å‹•ä½œã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ãƒƒã‚¯

    *ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ä»‹ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é€šä¿¡ã—ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã¾ã™*

  - **åˆ†æ•£ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ç•°ãªã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§å®Ÿè£…ã•ã‚Œã€ç•°ãªã‚‹ãƒã‚·ãƒ³ä¸Šã§å‹•ä½œã™ã‚‹è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ã¦ã„ã¾ã™ã€‚å‹•ä½œã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

## Semantic Kernel + Agent Framework

Semantic Kernelã¯ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã®AIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SDKã§ã™ã€‚AIã‚³ãƒã‚¯ã‚¿ã‚„ãƒ¡ãƒ¢ãƒªã‚³ãƒã‚¯ã‚¿ã«åŠ ãˆã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å«ã¿ã¾ã™ã€‚

ã¾ãšã€ã„ãã¤ã‹ã®ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èª¬æ˜ã—ã¾ã™ï¼š

- **AIã‚³ãƒã‚¯ã‚¿**ï¼šPythonã¨C#ã®ä¸¡æ–¹ã§ä½¿ç”¨ã§ãã‚‹å¤–éƒ¨AIã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚

  ```python
  # Semantic Kernel Python
  from semantic_kernel.connectors.ai.open_ai import AzureChatCompletion
  from semantic_kernel.kernel import Kernel

  kernel = Kernel()
  kernel.add_service(
    AzureChatCompletion(
        deployment_name="your-deployment-name",
        api_key="your-api-key",
        endpoint="your-endpoint",
    )
  )
  ```  

    ```csharp
    // Semantic Kernel C#
    using Microsoft.SemanticKernel;

    // Create kernel
    var builder = Kernel.CreateBuilder();
    
    // Add a chat completion service:
    builder.Services.AddAzureOpenAIChatCompletion(
        "your-resource-name",
        "your-endpoint",
        "your-resource-key",
        "deployment-model");
    var kernel = builder.Build();
    ```

    ã“ã“ã§ã¯ã€ã‚«ãƒ¼ãƒãƒ«ã‚’ä½œæˆã—ãƒãƒ£ãƒƒãƒˆå®Œäº†ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚Semantic Kernelã¯å¤–éƒ¨AIã‚µãƒ¼ãƒ“ã‚¹ï¼ˆã“ã®å ´åˆã¯Azure OpenAIãƒãƒ£ãƒƒãƒˆå®Œäº†ï¼‰ã¸ã®æ¥ç¶šã‚’ä½œæˆã—ã¾ã™ã€‚

- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨å¯èƒ½ãªæ©Ÿèƒ½ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã¾ã™ã€‚æ—¢æˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚é–¢é€£ã™ã‚‹æ¦‚å¿µã¨ã—ã¦ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé–¢æ•°ã€ãŒã‚ã‚Šã¾ã™ã€‚è‡ªç„¶è¨€èªã®ãƒ’ãƒ³ãƒˆã§é–¢æ•°ã‚’å‘¼ã³å‡ºã™ä»£ã‚ã‚Šã«ã€ç‰¹å®šã®é–¢æ•°ã‚’ãƒ¢ãƒ‡ãƒ«ã«ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã—ã¾ã™ã€‚ç¾åœ¨ã®ãƒãƒ£ãƒƒãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åŸºã¥ãã€ãƒ¢ãƒ‡ãƒ«ã¯ã“ã‚Œã‚‰ã®é–¢æ•°ã®ã„ãšã‚Œã‹ã‚’å‘¼ã³å‡ºã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã‚¯ã‚¨ãƒªã‚’å®Œäº†ã—ã¾ã™ã€‚ä¾‹ã‚’ç¤ºã—ã¾ã™ï¼š

  ```python
  from semantic_kernel.connectors.ai.open_ai.services.azure_chat_completion import AzureChatCompletion


  async def main():
      from semantic_kernel.functions import KernelFunctionFromPrompt
      from semantic_kernel.kernel import Kernel

      kernel = Kernel()
      kernel.add_service(AzureChatCompletion())

      user_input = input("User Input:> ")

      kernel_function = KernelFunctionFromPrompt(
          function_name="SummarizeText",
          prompt="""
          Summarize the provided unstructured text in a sentence that is easy to understand.
          Text to summarize: {{$user_input}}
          """,
      )

      response = await kernel_function.invoke(kernel=kernel, user_input=user_input)
      print(f"Model Response: {response}")

      """
      Sample Console Output:

      User Input:> I like dogs
      Model Response: The text expresses a preference for dogs.
      """


  if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
  ```

    ```csharp
    var userInput = Console.ReadLine();

    // Define semantic function inline.
    string skPrompt = @"Summarize the provided unstructured text in a sentence that is easy to understand.
                        Text to summarize: {{$userInput}}";
    
    // create the function from the prompt
    KernelFunction summarizeFunc = kernel.CreateFunctionFromPrompt(
        promptTemplate: skPrompt,
        functionName: "SummarizeText"
    );

    //then import into the current kernel
    kernel.ImportPluginFromFunctions("SemanticFunctions", [summarizeFunc]);

    ```

    ã“ã“ã§ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ `skPrompt` that leaves room for the user to input text, `$userInput`. Then you create the kernel function `SummarizeText` and then import it into the kernel with the plugin name `SemanticFunctions` ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚é–¢æ•°åã¯Semantic KernelãŒé–¢æ•°ã®å†…å®¹ã¨å‘¼ã³å‡ºã™ã¹ãã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚

- **ãƒã‚¤ãƒ†ã‚£ãƒ–é–¢æ•°**ï¼šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒç›´æ¥å‘¼ã³å‡ºã—ã¦ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°ã‚‚ã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã™ã‚‹ä¾‹ã§ã™ï¼š

    ```csharp
    public class NativeFunctions {

        [SKFunction, Description("Retrieve content from local file")]
        public async Task<string> RetrieveLocalFile(string fileName, int maxSize = 5000)
        {
            string content = await File.ReadAllTextAsync(fileName);
            if (content.Length <= maxSize) return content;
            return content.Substring(0, maxSize);
        }
    }
    
    //Import native function
    string plugInName = "NativeFunction";
    string functionName = "RetrieveLocalFile";

   //To add the functions to a kernel use the following function
    kernel.ImportPluginFromType<NativeFunctions>();

    ```

- **ãƒ¡ãƒ¢ãƒª**ï¼šAIã‚¢ãƒ—ãƒªã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã‚’æŠ½è±¡åŒ–ã—ç°¡ç´ åŒ–ã—ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªã¯LLMãŒçŸ¥ã£ã¦ãŠãã¹ãæƒ…å ±ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚æƒ…å ±ã¯ãƒ™ã‚¯ã‚¿ãƒ¼ã‚¹ãƒˆã‚¢ï¼ˆã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ãƒ™ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©ï¼‰ã«ä¿å­˜ã§ãã¾ã™ã€‚ä»¥ä¸‹ã¯éå¸¸ã«ç°¡ç•¥åŒ–ã—ãŸã‚·ãƒŠãƒªã‚ªã§ã€*facts*ã‚’ãƒ¡ãƒ¢ãƒªã«è¿½åŠ ã™ã‚‹ä¾‹ã§ã™ï¼š

    ```csharp
    var facts = new Dictionary<string,string>();
    facts.Add(
        "Azure Machine Learning; https://learn.microsoft.com/azure/machine-learning/",
        @"Azure Machine Learning is a cloud service for accelerating and
        managing the machine learning project lifecycle. Machine learning professionals,
        data scientists, and engineers can use it in their day-to-day workflows"
    );
    
    facts.Add(
        "Azure SQL Service; https://learn.microsoft.com/azure/azure-sql/",
        @"Azure SQL is a family of managed, secure, and intelligent products
        that use the SQL Server database engine in the Azure cloud."
    );
    
    string memoryCollectionName = "SummarizedAzureDocs";
    
    foreach (var fact in facts) {
        await memoryBuilder.SaveReferenceAsync(
            collection: memoryCollectionName,
            description: fact.Key.Split(";")[1].Trim(),
            text: fact.Value,
            externalId: fact.Key.Split(";")[2].Trim(),
            externalSourceName: "Azure Documentation"
        );
    }
    ```

    ã“ã‚Œã‚‰ã®äº‹å®Ÿã¯ãƒ¡ãƒ¢ãƒªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ `SummarizedAzureDocs` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚éå¸¸ã«å˜ç´”ãªä¾‹ã§ã™ãŒã€LLMãŒåˆ©ç”¨ã™ã‚‹ãŸã‚ã«æƒ…å ±ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿å­˜ã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

ä»¥ä¸ŠãŒSemantic Kernelãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®åŸºæœ¬ã§ã™ã€‚ã§ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ

## Azure AI Agent Service

Azure AI Agent Serviceã¯Microsoft Ignite 2024ã§ç´¹ä»‹ã•ã‚ŒãŸæ¯”è¼ƒçš„æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚Llama 3ã€Mistralã€Cohereãªã©ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹LLMã‚’ç›´æ¥å‘¼ã³å‡ºã›ã‚‹ãªã©ã€ã‚ˆã‚ŠæŸ”è»Ÿãªãƒ¢ãƒ‡ãƒ«ã§AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®é–‹ç™ºã¨å±•é–‹ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

Azure AI Agent Serviceã¯å¼·åŠ›ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹ã¨ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ‰‹æ®µã‚’æä¾›ã—ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ã¦ã„ã¾ã™ã€‚

AutoGenã‚„Semantic Kernelã®ã‚ˆã†ãªãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨å³åº§ã«é€£æºã§ãã¾ã™ã€‚

ç¾åœ¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­ã§ã€Pythonã¨C#ã§ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

**é‡è¦**: Azure AI Projects Python SDKï¼ˆ`azure-ai-projects`ï¼‰ã¯æ€¥é€Ÿã«é€²åŒ–ã—ã¦ãŠã‚Šã€v1.0.0b12ä»¥é™ã§é‡è¦ãªå¤‰æ›´ãŒã‚ã‚Šã¾ã™ï¼š

- APIæ§‹é€ ã®å¤‰æ›´ï¼šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ã‚¹ãƒ¬ãƒƒãƒ‰ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€å®Ÿè¡ŒãŒç‹¬ç«‹ã—ãŸã‚µãƒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«åˆ†é›¢
- å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤‰æ›´ï¼š`AIProjectClient`ã«ã¯æ˜ç¤ºçš„ãª`subscription_id`ã€`resource_group_name`ã€`project_name`ãŒå¿…è¦
- ItemPagedã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›´ï¼š`.data`å±æ€§ãŒå»ƒæ­¢ã•ã‚Œã€ç›´æ¥ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦

ã“ã‚Œã‚‰ã®å¤‰æ›´ã«ã‚ˆã‚Šã€ã‚ˆã‚Šæ˜ç¤ºçš„ã§å …ç‰¢ãªãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

Semantic Kernel Pythonã‚’ä½¿ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä»˜ãã®Azure AI Agentã‚’ä½œæˆã™ã‚‹ä¾‹ï¼š

```python
import asyncio
from typing import Annotated

from azure.identity.aio import DefaultAzureCredential

from semantic_kernel.agents import AzureAIAgent, AzureAIAgentSettings, AzureAIAgentThread
from semantic_kernel.contents import ChatMessageContent
from semantic_kernel.contents import AuthorRole
from semantic_kernel.functions import kernel_function


# Define a sample plugin for the sample
class MenuPlugin:
    """A sample Menu Plugin used for the concept sample."""

    @kernel_function(description="Provides a list of specials from the menu.")
    def get_specials(self) -> Annotated[str, "Returns the specials from the menu."]:
        return """
        Special Soup: Clam Chowder
        Special Salad: Cobb Salad
        Special Drink: Chai Tea
        """

    @kernel_function(description="Provides the price of the requested menu item.")
    def get_item_price(
        self, menu_item: Annotated[str, "The name of the menu item."]
    ) -> Annotated[str, "Returns the price of the menu item."]:
        return "$9.99"


async def main() -> None:
    ai_agent_settings = AzureAIAgentSettings.create()

    async with (
        DefaultAzureCredential() as creds,
        AzureAIAgent.create_client(
            credential=creds,
            conn_str=ai_agent_settings.project_connection_string.get_secret_value(),
        ) as client,
    ):
        # Create agent definition
        agent_definition = await client.agents.create_agent(
            model=ai_agent_settings.model_deployment_name,
            name="Host",
            instructions="Answer questions about the menu.",
        )

        # Create the AzureAI Agent using the defined client and agent definition
        agent = AzureAIAgent(
            client=client,
            definition=agent_definition,
            plugins=[MenuPlugin()],
        )

        # Create a thread to hold the conversation
        # If no thread is provided, a new thread will be
        # created and returned with the initial response
        thread: AzureAIAgentThread | None = None

        user_inputs = [
            "Hello",
            "What is the special soup?",
            "How much does that cost?",
            "Thank you",
        ]

        try:
            for user_input in user_inputs:
                print(f"# User: '{user_input}'")
                # Invoke the agent for the specified thread
                response = await agent.get_response(
                    messages=user_input,
                    thread_id=thread,
                )
                print(f"# {response.name}: {response.content}")
                thread = response.thread
        finally:
            await thread.delete() if thread else None
            await client.agents.delete_agent(agent.id)


if __name__ == "__main__":
    asyncio.run(main())
```

### ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

Azure AI Agent Serviceã«ã¯ä»¥ä¸‹ã®ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆãŒã‚ã‚Šã¾ã™ï¼š

- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**ã€‚Azure AI Agent Serviceã¯Azure AI Foundryã¨çµ±åˆã•ã‚Œã¦ã„ã¾ã™ã€‚AI Foundryå†…ã§ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã€Œã‚¹ãƒãƒ¼ãƒˆã€ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦æ©Ÿèƒ½ã—ã€è³ªå•å¿œç­”ï¼ˆRAGï¼‰ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Œå…¨è‡ªå‹•åŒ–ã‚’è¡Œã„ã¾ã™ã€‚ç”ŸæˆAIãƒ¢ãƒ‡ãƒ«ã®åŠ›ã‚’æ´»ç”¨ã—ã€å®Ÿä¸–ç•Œã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¯èƒ½ã«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã¨çµ„ã¿åˆã‚ã›ã¦ã„ã¾ã™ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä¾‹ï¼š

    ```python
    agent = project_client.agents.create_agent(
        model="gpt-4o-mini",
        name="my-agent",
        instructions="You are helpful agent",
        tools=code_interpreter.definitions,
        tool_resources=code_interpreter.resources,
    )
    ```

    ã“ã®ä¾‹ã§ã¯ã€`gpt-4o-mini`, a name `my-agent`, and instructions `You are helpful agent`ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½œæˆã—ã€ã‚³ãƒ¼ãƒ‰è§£é‡ˆã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ãƒªã‚½ãƒ¼ã‚¹ã‚’è£…å‚™ã—ã¦ã„ã¾ã™ã€‚

- **ã‚¹ãƒ¬ãƒƒãƒ‰ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼é–“ã®ä¼šè©±ã‚„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ã™é‡è¦ãªæ¦‚å¿µã§ã™ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ä¼šè©±ã®é€²è¡ŒçŠ¶æ³ã‚’è¿½è·¡ã—ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‚’ä¿å­˜ã—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ã®ä¾‹ï¼ˆæœ€æ–°SDK v1.0.0b12+å¯¾å¿œï¼‰ï¼š

    ```python
    # æœ€æ–°SDKã§ã¯æ–°ã—ã„APIæ§‹é€ ã‚’ä½¿ç”¨
    thread = project_client.agents.threads.create()
    message = project_client.agents.messages.create(
        thread_id=thread.id,
        role="user",
        content="Could you please create a bar chart for the operating profit using the following data and provide the file to me? Company A: $1.2 million, Company B: $2.5 million, Company C: $3.0 million, Company D: $1.8 million",
    )
    
    # Ask the agent to perform work on the thread
    run = project_client.agents.runs.create_and_process(thread_id=thread.id, agent_id=agent.id)
    
    # Fetch and log all messages to see the agent's response
    # æ³¨æ„: ItemPagedã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ç›´æ¥ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯èƒ½
    messages_paged = project_client.agents.messages.list(thread_id=thread.id)
    
    # æ¨å¥¨: ç›´æ¥ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€æ–°SDKå¯¾å¿œï¼‰
    for message in messages_paged:
        print(f"Message: {message.role}: {message.content}")
    
    # ã¾ãŸã¯: ãƒªã‚¹ãƒˆå¤‰æ›
    messages_list = list(messages_paged)
    print(f"Messages: {messages_list}")
    ```

    ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã§ã¯ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ä½œæˆã—ã€ãã®å¾Œã‚¹ãƒ¬ãƒƒãƒ‰ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦ã„ã¾ã™ã€‚**é‡è¦**: æœ€æ–°ã®Azure AI Projects SDK (v1.0.0b12+) ã§ã¯ã€APIæ§‹é€ ãŒå¤§å¹…ã«å¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ï¼š
    
    **âœ… æ–°APIï¼ˆæ¨å¥¨ï¼‰**:
    - `project_client.agents.threads.create()`
    - `project_client.agents.messages.create()`
    - `project_client.agents.runs.create_and_process()`
    - `project_client.agents.messages.list()`
    
    **âŒ æ—§APIï¼ˆå»ƒæ­¢ï¼‰**:
    - `agents.create_thread()` 
    - `agents.create_message()` 
    - `agents.create_and_process_run()` 
    - `agents.list_messages()`
    
    ã¾ãŸã€`messages.list()`ã®æˆ»ã‚Šå€¤ã¯`ItemPaged`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€**.dataå±æ€§ã¯å»ƒæ­¢**ã•ã‚Œã¾ã—ãŸã€‚ç›´æ¥ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`for msg in messages:`ï¼‰ã¾ãŸã¯`list()`å¤‰æ›ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
    
    ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒ•ã‚¡ã‚¤ãƒ«ãªã©æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ãŒã‚ã‚Šã€ä¾‹ãˆã°ç”»åƒã‚„ãƒ†ã‚­ã‚¹ãƒˆå¿œç­”ãªã©ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä½œæ¥­çµæœã‚’ç¤ºã—ã¾ã™ã€‚é–‹ç™ºè€…ã¯ã“ã‚Œã‚‰ã®æƒ…å ±ã‚’åˆ©ç”¨ã—ã¦å¿œç­”ã‚’ã•ã‚‰ã«å‡¦ç†ã—ãŸã‚Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã§ãã¾ã™ã€‚

    **âš ï¸ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ³¨æ„ç‚¹**:
    - SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³v1.0.0b12ä»¥é™ã§ã¯ã€`endpoint`ã¨`credential`ã®ã¿ã§åˆæœŸåŒ–å¯èƒ½
    - ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¿…é ˆã ã£ãŸ`subscription_id`, `resource_group_name`, `project_name`ã¯ä¸è¦
    - `TypeError: missing required positional arguments`ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã¯ã€SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
    - ç’°å¢ƒå¤‰æ•°ã®è¨­å®šãŒä¸å®Œå…¨ã ã¨æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†æ”¹å–„ã•ã‚Œã¾ã—ãŸ
    - è©³ç´°ã¯ [Microsoft Learn - Azure AI Projects SDK](https://learn.microsoft.com/en-us/python/api/overview/azure/ai-projects-readme?view=azure-python-preview#key-concepts) ã‚’å‚ç…§

- **ä»–ã®AIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®çµ±åˆ**ã€‚Azure AI Agent Serviceã¯AutoGenã‚„Semantic Kernelãªã©ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨é€£æºå¯èƒ½ã§ã€ã‚¢ãƒ—ãƒªã®ä¸€éƒ¨ã‚’ã“ã‚Œã‚‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§æ§‹ç¯‰ã—ã€Agent Serviceã‚’ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦ä½¿ã†ã“ã¨ã‚„ã€Agent Serviceã®ã¿ã§å…¨ä½“ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**ï¼šAzure AI Agent Serviceã¯å®‰å…¨ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã‹ã¤æŸ”è»ŸãªAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå±•é–‹ã‚’å¿…è¦ã¨ã™ã‚‹ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

## ã“ã‚Œã‚‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é•ã„ã¯ï¼Ÿ

ã“ã‚Œã‚‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å¤šãã®å…±é€šç‚¹ãŒã‚ã‚Šã¾ã™ãŒã€è¨­è¨ˆã€æ©Ÿèƒ½ã€å¯¾è±¡ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ãŠã„ã¦ã„ãã¤ã‹ã®é‡è¦ãªé•ã„ãŒã‚ã‚Šã¾ã™ï¼š

## AutoGen

AutoGenã¯Microsoft Researchã®AI Frontiers LabãŒé–‹ç™ºã—ãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ã®åˆ†æ•£*ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ*ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç„¦ç‚¹ã‚’å½“ã¦ã€è¤‡æ•°ã®LLMã‚„SLMã€ãƒ„ãƒ¼ãƒ«ã€é«˜åº¦ãªãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

AutoGenã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸­å¿ƒã«æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ç’°å¢ƒã‚’èªè­˜ã—ã€æ„æ€æ±ºå®šã‚’è¡Œã„ã€ç‰¹å®šã®ç›®æ¨™ã‚’é”æˆã™ã‚‹ãŸã‚ã«è¡Œå‹•ã—ã¾ã™ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯éåŒæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é€šä¿¡ã—ã€ç‹¬ç«‹ã‹ã¤ä¸¦è¡Œã—ã¦å‹•ä½œã§ãã‚‹ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã¨å¿œç­”æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚

Wikipediaã«ã‚ˆã‚Œã°ã€ã‚¢ã‚¯ã‚¿ãƒ¼ã¯ã€Œä¸¦è¡Œè¨ˆç®—ã®åŸºæœ¬çš„ãªæ§‹æˆè¦ç´ ã€ã§ã‚ã‚Šã€å—ã‘å–ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¿œã˜ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®æ„æ€æ±ºå®šã€ã•ã‚‰ãªã‚‹ã‚¢ã‚¯ã‚¿ãƒ¼ã®ç”Ÿæˆã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã€æ¬¡ã«å—ã‘å–ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ã®å¿œç­”æ–¹æ³•ã®æ±ºå®šãŒå¯èƒ½ã§ã™ã€‚

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**ï¼šã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®è‡ªå‹•åŒ–ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã‚¿ã‚¹ã‚¯ã€è¨ˆç”»ã‚„èª¿æŸ»æ©Ÿèƒ½ã®ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰ã€‚

AutoGenã®é‡è¦ãªã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ä»¥ä¸‹ã‚’æŒã¤ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã§ã™ï¼š
  - **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä»‹ã—ã¦é€šä¿¡**ã€‚ã“ã‚Œã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯åŒæœŸçš„ã¾ãŸã¯éåŒæœŸçš„ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
  - **è‡ªèº«ã®çŠ¶æ…‹ã‚’ç¶­æŒ**ã—ã€å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã£ã¦å¤‰æ›´ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
  - **å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„çŠ¶æ…‹ã®å¤‰åŒ–ã«å¿œã˜ã¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ**ã€‚ã“ã‚Œã‚‰ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’å¤‰æ›´ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ­ã‚°ã®æ›´æ–°ã€æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã€ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã€APIå‘¼ã³å‡ºã—ãªã©ã®å¤–éƒ¨åŠ¹æœã‚’ç”Ÿã¿å‡ºã™ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

  ä»¥ä¸‹ã¯ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã‚’æŒã¤ç‹¬è‡ªã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹çŸ­ã„ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã§ã™ï¼š

    ```python
    from autogen_agentchat.agents import AssistantAgent
    from autogen_agentchat.messages import TextMessage
    from autogen_ext.models.openai import OpenAIChatCompletionClient


    class MyAssistant(RoutedAgent):
        def __init__(self, name: str) -> None:
            super().__init__(name)
            model_client = OpenAIChatCompletionClient(model="gpt-4o")
            self._delegate = AssistantAgent(name, model_client=model_client)
    
        @message_handler
        async def handle_my_message_type(self, message: MyMessageType, ctx: MessageContext) -> None:
            print(f"{self.id.type} received message: {message.content}")
            response = await self._delegate.on_messages(
                [TextMessage(content=message.content, source="user")], ctx.cancellation_token
            )
            print(f"{self.id.type} responded: {response.chat_message.content}")
    ```

    ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`MyAssistant` has been created and inherits from `RoutedAgent`. It has a message handler that prints the content of the message and then sends a response using the `AssistantAgent` delegate. Especially note how we assign to `self._delegate` an instance of `AssistantAgent`ã¯ãƒãƒ£ãƒƒãƒˆå®Œäº†ã‚’å‡¦ç†ã§ãã‚‹äº‹å‰æ§‹ç¯‰ã•ã‚ŒãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚

    æ¬¡ã«ã€ã“ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’AutoGenã«çŸ¥ã‚‰ã›ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é–‹å§‹ã—ã¾ã™ï¼š

    ```python
    
    # main.py
    runtime = SingleThreadedAgentRuntime()
    await MyAgent.register(runtime, "my_agent", lambda: MyAgent())

    runtime.start()  # Start processing messages in the background.
    await runtime.send_message(MyMessageType("Hello, World!"), AgentId("my_agent", "default"))
    ```

    ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ç™»éŒ²ã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ï¼š

    ```text
    # Output from the console:
    my_agent received message: Hello, World!
    my_assistant received message: Hello, World!
    my_assistant responded: Hello! How can I assist you today?
    ```

- **ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**ã€‚AutoGenã¯è¤‡æ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå”åŠ›ã—ã¦è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã‚’é”æˆã™ã‚‹ã“ã¨ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯é€šä¿¡ã—ã€æƒ…å ±ã‚’å…±æœ‰ã—ã€è¡Œå‹•ã‚’èª¿æ•´ã—ã¦åŠ¹ç‡çš„ã«å•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€åˆ†æã€æ„æ€æ±ºå®šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã®å°‚é–€æ©Ÿèƒ½ã‚„å½¹å‰²ã‚’æŒã¤ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚ä»¥ä¸‹ã«ãã®ä¾‹ã‚’ç¤ºã—ã¾ã™ï¼š

    ```python
    editor_description = "Editor for planning and reviewing the content."

    # Example of declaring an Agent
    editor_agent_type = await EditorAgent.register(
    runtime,
    editor_topic_type,  # Using topic type as the agent type.
    lambda: EditorAgent(
        description=editor_description,
        group_chat_topic_type=group_chat_topic_type,
        model_client=OpenAIChatCompletionClient(
            model="gpt-4o-2024-08-06",
            # api_key="YOUR_API_KEY",
        ),
        ),
    )

    # remaining declarations shortened for brevity

    # Group chat
    group_chat_manager_type = await GroupChatManager.register(
    runtime,
    "group_chat_manager",
    lambda: GroupChatManager(
        participant_topic_types=[writer_topic_type, illustrator_topic_type, editor_topic_type, user_topic_type],
        model_client=OpenAIChatCompletionClient(
            model="gpt-4o-2024-08-06",
            # api_key="YOUR_API_KEY",
        ),
        participant_descriptions=[
            writer_description, 
            illustrator_description, 
            editor_description, 
            user_description
        ],
        ),
    )
    ```

    ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`GroupChatManager`ãŒãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯ãƒ©ã‚¤ã‚¿ãƒ¼ã€ã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ç·¨é›†è€…ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã©ã€ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª¿æ•´ã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚

- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®é€šä¿¡ã‚’å¯èƒ½ã«ã—ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®IDã‚„ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã®å¢ƒç•Œã‚’å¼·åˆ¶ã™ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç’°å¢ƒã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®‰å…¨ã‹ã¤åˆ¶å¾¡ã•ã‚ŒãŸç’°å¢ƒã§å®Ÿè¡Œã§ãã€åŠ¹ç‡çš„ã‹ã¤å®‰å…¨ã«ç›¸äº’ä½œç”¨ã§ãã¾ã™ã€‚æ³¨ç›®ã™ã¹ããƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ä»¥ä¸‹ã®2ã¤ã§ã™ï¼š
  - **ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ã™ã¹ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒåŒã˜ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§å®Ÿè£…ã•ã‚Œã€åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹å˜ä¸€ãƒ—ãƒ­ã‚»ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ã¦ã„ã¾ã™ã€‚å‹•ä½œã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ãƒƒã‚¯

    *ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ä»‹ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é€šä¿¡ã—ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã¾ã™*

  - **åˆ†æ•£ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ã€‚ç•°ãªã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§å®Ÿè£…ã•ã‚Œã€ç•°ãªã‚‹ãƒã‚·ãƒ³ä¸Šã§å‹•ä½œã™ã‚‹è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ã—ã¦ã„ã¾ã™ã€‚å‹•ä½œã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

## Semantic Kernel + Agent Framework

Semantic Kernelã¯ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã®AIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SDKã§ã™ã€‚AIã‚³ãƒã‚¯ã‚¿ã‚„ãƒ¡ãƒ¢ãƒªã‚³ãƒã‚¯ã‚¿ã«åŠ ãˆã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å«ã¿ã¾ã™ã€‚

ã¾ãšã€ã„ãã¤ã‹ã®ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èª¬æ˜ã—ã¾ã™ï¼š

- **AIã‚³ãƒã‚¯ã‚¿**ï¼šPythonã¨C#ã®ä¸¡æ–¹ã§ä½¿ç”¨ã§ãã‚‹å¤–éƒ¨AIã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚

  ```python
  # Semantic Kernel Python
  from semantic_kernel.connectors.ai.open_ai import AzureChatCompletion
  from semantic_kernel.kernel import Kernel

  kernel = Kernel()
  kernel.add_service(
    AzureChatCompletion(
        deployment_name="your-deployment-name",
        api_key="your-api-key",
        endpoint="your-endpoint",
    )
  )
  ```  

    ```csharp
    // Semantic Kernel C#
    using Microsoft.SemanticKernel;

    // Create kernel
    var builder = Kernel.CreateBuilder();
    
    // Add a chat completion service:
    builder.Services.AddAzureOpenAIChatCompletion(
        "your-resource-name",
        "your-endpoint",
        "your-resource-key",
        "deployment-model");
    var kernel = builder.Build();
    ```

    ã“ã“ã§ã¯ã€ã‚«ãƒ¼ãƒãƒ«ã‚’ä½œæˆã—ãƒãƒ£ãƒƒãƒˆå®Œäº†ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚Semantic Kernelã¯å¤–éƒ¨AIã‚µãƒ¼ãƒ“ã‚¹ï¼ˆã“ã®å ´åˆã¯Azure OpenAIãƒãƒ£ãƒƒãƒˆå®Œäº†ï¼‰ã¸ã®æ¥ç¶šã‚’ä½œæˆã—ã¾ã™ã€‚

- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨å¯èƒ½ãªæ©Ÿèƒ½ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã¾ã™ã€‚æ—¢æˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚é–¢é€£ã™ã‚‹æ¦‚å¿µã¨ã—ã¦ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé–¢æ•°ã€ãŒã‚ã‚Šã¾ã™ã€‚è‡ªç„¶è¨€èªã®ãƒ’ãƒ³ãƒˆã§é–¢æ•°ã‚’å‘¼ã³å‡ºã™ä»£ã‚ã‚Šã«ã€ç‰¹å®šã®é–¢æ•°ã‚’ãƒ¢ãƒ‡ãƒ«ã«ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã—ã¾ã™ã€‚ç¾åœ¨ã®ãƒãƒ£ãƒƒãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åŸºã¥ãã€ãƒ¢ãƒ‡ãƒ«ã¯ã“ã‚Œã‚‰ã®é–¢æ•°ã®ã„ãšã‚Œã‹ã‚’å‘¼ã³å‡ºã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã‚¯ã‚¨ãƒªã‚’å®Œäº†ã—ã¾ã™ã€‚ä¾‹ã‚’ç¤ºã—ã¾ã™ï¼š

  ```python
  from semantic_kernel.connectors.ai.open_ai.services.azure_chat_completion import AzureChatCompletion


  async def main():
      from semantic_kernel.functions import KernelFunctionFromPrompt
      from semantic_kernel.kernel import Kernel

      kernel = Kernel()
      kernel.add_service(AzureChatCompletion())

      user_input = input("User Input:> ")

      kernel_function = KernelFunctionFromPrompt(
          function_name="SummarizeText",
          prompt="""
          Summarize the provided unstructured text in a sentence that is easy to understand.
          Text to summarize: {{$user_input}}
          """,
      )

      response = await kernel_function.invoke(kernel=kernel, user_input=user_input)
      print(f"Model Response: {response}")

      """
      Sample Console Output:

      User Input:> I like dogs
      Model Response: The text expresses a preference for dogs.
      """


  if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
  ```

    ```csharp
    var userInput = Console.ReadLine();

    // Define semantic function inline.
    string skPrompt = @"Summarize the provided unstructured text in a sentence that is easy to understand.
                        Text to summarize: {{$userInput}}";
    
    // create the function from the prompt
    KernelFunction summarizeFunc = kernel.CreateFunctionFromPrompt(
        promptTemplate: skPrompt,
        functionName: "SummarizeText"
    );

    //then import into the current kernel
    kernel.ImportPluginFromFunctions("SemanticFunctions", [summarizeFunc]);

    ```

    ã“ã“ã§ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ `

## Azure AI Foundry Agent Service ã‚’è©¦ã—ã¦ã¿ã‚ˆã†

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€Azure AI Foundry Agent Service ã‚’å®Ÿéš›ã«ä½¿ç”¨ã—ã¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½œæˆãƒ»å®Ÿè¡Œã—ã¾ã™ã€‚

### å‰ææ¡ä»¶

- Azure ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
- [Azure AI Foundry ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ](https://ai.azure.com/?cid=learnDocs) (ä½œæˆæ¸ˆã¿)
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã§ **Azure AI User** RBAC ãƒ­ãƒ¼ãƒ«ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹
- Azure CLI ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ `az login` ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³æ¸ˆã¿

### ç’°å¢ƒè¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã® `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¨­å®šï¼š

```bash
# Azure AI Foundry ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆå¿…é ˆï¼‰
PROJECT_ENDPOINT=https://YOUR-RESOURCE.services.ai.azure.com/api/projects/YOUR-PROJECT

# Azure AI Foundry ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼ˆå¿…é ˆï¼‰
AZURE_AI_PROJECT_NAME=YOUR-PROJECT-NAME

# Azure ãƒªã‚½ãƒ¼ã‚¹æƒ…å ±ï¼ˆå¿…é ˆï¼‰
AZURE_SUBSCRIPTION_ID=YOUR-SUBSCRIPTION-ID
AZURE_OPENAI_RESOURCE_GROUP=YOUR-RESOURCE-GROUP-NAME

# ãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆåï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: gpt-4o-miniï¼‰
AZURE_AI_AGENT_MODEL_DEPLOYMENT_NAME=gpt-4o-mini
```

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ

[**02-azureaiagent.ipynb**](./code_samples/02-azureaiagent.ipynb) ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’é–‹ãã€ä»¥ä¸‹ã®æ‰‹é †ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š

1. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«/ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã¿ãƒ»ç¢ºèª
3. Azure AI Foundry ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ¥ç¶š
4. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½œæˆãƒ»å®Ÿè¡Œãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### ğŸ”§ é‡è¦ãªæ³¨æ„ç‚¹

âš ï¸ **Azure AI Projects SDK v1.0.0b12+ ã®å¤‰æ›´ç‚¹**

- **æ–°APIæ§‹é€ **: `project_client.agents.threads.create()`, `messages.create()`, `runs.create_and_process()`
- **ItemPagedå¯¾å¿œ**: `.data` å±æ€§ã®å»ƒæ­¢ã€ç›´æ¥ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¨å¥¨
- **å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `subscription_id`, `resource_group_name`, `project_name` ãŒå¿…é ˆ
- **çµ±ä¸€ã•ã‚ŒãŸç’°å¢ƒå¤‰æ•°**: ãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“ã§ä¸€è²«ã—ãŸå¤‰æ•°åã‚’ä½¿ç”¨

è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã¯ [azureaiagent_troubleshooting.md](./code_samples/azureaiagent_troubleshooting.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“– å‚è€ƒè³‡æ–™

**Azure AI Projects SDK ãŠã‚ˆã³ Azure AI Foundry ã®æœ€æ–°æƒ…å ±**ï¼š

- **[MS Learn: Azure AI Projects Python SDK ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://learn.microsoft.com/python/api/overview/azure/ai-projects-readme)** - å…¬å¼SDKä»•æ§˜ã¨API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- **[MS Learn: Azure AI Foundry é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰](https://learn.microsoft.com/azure/ai-foundry/how-to/)** - è©³ç´°ãªé–‹ç™ºã‚¬ã‚¤ãƒ‰ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- **[MS Learn: Azure AI Foundry ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](https://learn.microsoft.com/azure/ai-foundry/quickstarts/get-started-code)** - åˆå¿ƒè€…å‘ã‘ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- **[GitHub: Azure SDK for Python - AI Projects](https://github.com/Azure/azure-sdk-for-python/tree/main/sdk/ai/azure-ai-projects)** - SDKã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨æœ€æ–°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- **[GitHub: ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://github.com/Azure/azure-sdk-for-python/tree/main/sdk/ai/azure-ai-projects/samples)** - å®Ÿç”¨çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ã¨ã‚µãƒ³ãƒ—ãƒ«

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ï¼š

- **[AutoGen å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://microsoft.github.io/autogen/)** - ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¼šè©±ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[LangChain å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://python.langchain.com/)** - LLMã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[Semantic Kernel å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://learn.microsoft.com/semantic-kernel/)** - Microsoftã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºSDK

## å‰ã®ãƒ¬ãƒƒã‚¹ãƒ³

[AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å…¥é–€](../01-intro-to-ai-agents/README.md)

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³

[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç†è§£](../03-agentic-design-patterns/README.md)

**å…è²¬äº‹é …**ï¼š  
æœ¬æ›¸é¡ã¯AIç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ã€Œ[Co-op Translator](https://github.com/Azure/co-op-translator)ã€ã‚’ä½¿ç”¨ã—ã¦ç¿»è¨³ã•ã‚Œã¾ã—ãŸã€‚æ­£ç¢ºæ€§ã®å‘ä¸Šã«åŠªã‚ã¦ãŠã‚Šã¾ã™ãŒã€è‡ªå‹•ç¿»è¨³ã«ã¯èª¤ã‚Šã‚„ä¸æ­£ç¢ºãªéƒ¨åˆ†ãŒå«ã¾ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚åŸæ–‡ã®è¨€èªã«ã‚ˆã‚‹ã‚ªãƒªã‚¸ãƒŠãƒ«æ–‡æ›¸ãŒæ­£å¼ãªæƒ…å ±æºã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã¹ãã§ã™ã€‚é‡è¦ãªæƒ…å ±ã«ã¤ã„ã¦ã¯ã€å°‚é–€ã®äººé–“ã«ã‚ˆã‚‹ç¿»è¨³ã‚’æ¨å¥¨ã—ã¾ã™ã€‚æœ¬ç¿»è¨³ã®ä½¿ç”¨ã«ã‚ˆã‚Šç”Ÿã˜ãŸã„ã‹ãªã‚‹èª¤è§£ã‚„èª¤è¨³ã«ã¤ã„ã¦ã‚‚ã€å½“æ–¹ã¯ä¸€åˆ‡è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚