<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8164484c16b1ed3287ef9dae9fc437c1",
  "translation_date": "2025-07-24T08:25:06+00:00",
  "source_file": "10-ai-agents-production/README.md",
  "language_code": "el"
}
-->
# AI Agents in Production: Παρατηρησιμότητα & Αξιολόγηση

Καθώς οι AI agents μεταβαίνουν από πειραματικά πρωτότυπα σε εφαρμογές πραγματικού κόσμου, η δυνατότητα κατανόησης της συμπεριφοράς τους, παρακολούθησης της απόδοσής τους και συστηματικής αξιολόγησης των αποτελεσμάτων τους γίνεται σημαντική.

## Στόχοι Μάθησης

Μετά την ολοκλήρωση αυτού του μαθήματος, θα γνωρίζετε πώς να/κατανοείτε:
- Βασικές έννοιες παρατηρησιμότητας και αξιολόγησης των agents
- Τεχνικές για τη βελτίωση της απόδοσης, του κόστους και της αποτελεσματικότητας των agents
- Τι και πώς να αξιολογείτε συστηματικά τους AI agents σας
- Πώς να ελέγχετε το κόστος κατά την ανάπτυξη AI agents σε παραγωγή
- Πώς να εξοπλίζετε agents που έχουν δημιουργηθεί με το AutoGen

Ο στόχος είναι να σας εξοπλίσουμε με τη γνώση για να μετατρέψετε τους "μαύρους κουτιούς" agents σας σε διαφανή, διαχειρίσιμα και αξιόπιστα συστήματα.

_**Σημείωση:** Είναι σημαντικό να αναπτύσσετε AI agents που είναι ασφαλείς και αξιόπιστοι. Δείτε το μάθημα [Building Trustworthy AI Agents](./06-building-trustworthy-agents/README.md) για περισσότερες πληροφορίες._

## Traces και Spans

Εργαλεία παρατηρησιμότητας όπως το [Langfuse](https://langfuse.com/) ή το [Azure AI Foundry](https://learn.microsoft.com/en-us/azure/ai-foundry/what-is-azure-ai-foundry) συνήθως αναπαριστούν τις εκτελέσεις των agents ως traces και spans.

- **Trace** αντιπροσωπεύει μια πλήρη εργασία του agent από την αρχή μέχρι το τέλος (όπως η διαχείριση ενός ερωτήματος χρήστη).
- **Spans** είναι τα επιμέρους βήματα μέσα στο trace (όπως η κλήση ενός γλωσσικού μοντέλου ή η ανάκτηση δεδομένων).

![Trace tree in Langfuse](https://langfuse.com/images/cookbook/example-autogen-evaluation/trace-tree.png)

Χωρίς παρατηρησιμότητα, ένας AI agent μπορεί να μοιάζει με "μαύρο κουτί" - η εσωτερική του κατάσταση και η λογική του είναι αδιαφανείς, καθιστώντας δύσκολη τη διάγνωση προβλημάτων ή τη βελτιστοποίηση της απόδοσης. Με την παρατηρησιμότητα, οι agents γίνονται "γυάλινα κουτιά," προσφέροντας διαφάνεια που είναι ζωτικής σημασίας για την οικοδόμηση εμπιστοσύνης και την εξασφάλιση ότι λειτουργούν όπως προβλέπεται.

## Γιατί η Παρατηρησιμότητα Είναι Σημαντική σε Περιβάλλοντα Παραγωγής

Η μετάβαση των AI agents σε περιβάλλοντα παραγωγής εισάγει μια νέα σειρά προκλήσεων και απαιτήσεων. Η παρατηρησιμότητα δεν είναι πλέον "καλό να υπάρχει" αλλά μια κρίσιμη δυνατότητα:

*   **Εντοπισμός Σφαλμάτων και Ανάλυση Αιτίων**: Όταν ένας agent αποτυγχάνει ή παράγει ένα απροσδόκητο αποτέλεσμα, τα εργαλεία παρατηρησιμότητας παρέχουν τα traces που χρειάζονται για να εντοπιστεί η πηγή του σφάλματος. Αυτό είναι ιδιαίτερα σημαντικό σε σύνθετους agents που μπορεί να περιλαμβάνουν πολλαπλές κλήσεις LLM, αλληλεπιδράσεις εργαλείων και συνθήκες λογικής.
*   **Διαχείριση Καθυστέρησης και Κόστους**: Οι AI agents συχνά βασίζονται σε LLMs και άλλες εξωτερικές APIs που χρεώνονται ανά token ή ανά κλήση. Η παρατηρησιμότητα επιτρέπει την ακριβή παρακολούθηση αυτών των κλήσεων, βοηθώντας στον εντοπισμό λειτουργιών που είναι υπερβολικά αργές ή ακριβές. Αυτό επιτρέπει στις ομάδες να βελτιστοποιήσουν τα prompts, να επιλέξουν πιο αποδοτικά μοντέλα ή να επανασχεδιάσουν workflows για τη διαχείριση του λειτουργικού κόστους και την εξασφάλιση καλής εμπειρίας χρήστη.
*   **Εμπιστοσύνη, Ασφάλεια και Συμμόρφωση**: Σε πολλές εφαρμογές, είναι σημαντικό να εξασφαλιστεί ότι οι agents λειτουργούν με ασφάλεια και ηθική. Η παρατηρησιμότητα παρέχει ένα ίχνος ελέγχου των ενεργειών και αποφάσεων του agent. Αυτό μπορεί να χρησιμοποιηθεί για την ανίχνευση και την αντιμετώπιση προβλημάτων όπως η έγχυση prompts, η δημιουργία επιβλαβούς περιεχομένου ή η κακή διαχείριση προσωπικών δεδομένων (PII). Για παράδειγμα, μπορείτε να αναθεωρήσετε τα traces για να κατανοήσετε γιατί ένας agent παρείχε μια συγκεκριμένη απάντηση ή χρησιμοποίησε ένα συγκεκριμένο εργαλείο.
*   **Συνεχής Βελτίωση**: Τα δεδομένα παρατηρησιμότητας αποτελούν τη βάση μιας διαδικασίας επαναληπτικής ανάπτυξης. Με την παρακολούθηση της απόδοσης των agents στον πραγματικό κόσμο, οι ομάδες μπορούν να εντοπίσουν περιοχές για βελτίωση, να συλλέξουν δεδομένα για fine-tuning μοντέλων και να επικυρώσουν τον αντίκτυπο των αλλαγών. Αυτό δημιουργεί έναν κύκλο ανατροφοδότησης όπου οι πληροφορίες παραγωγής από την online αξιολόγηση ενημερώνουν την offline πειραματική διαδικασία και τη βελτίωση, οδηγώντας σε προοδευτικά καλύτερη απόδοση των agents.

## Βασικοί Δείκτες Παρακολούθησης

Για να παρακολουθήσετε και να κατανοήσετε τη συμπεριφορά των agents, πρέπει να παρακολουθούνται μια σειρά από δείκτες και σήματα. Παρόλο που οι συγκεκριμένοι δείκτες μπορεί να διαφέρουν ανάλογα με τον σκοπό του agent, ορισμένοι είναι καθολικά σημαντικοί.

Ακολουθούν μερικοί από τους πιο κοινούς δείκτες που παρακολουθούν τα εργαλεία παρατηρησιμότητας:

**Καθυστέρηση:** Πόσο γρήγορα ανταποκρίνεται ο agent; Οι μεγάλες αναμονές επηρεάζουν αρνητικά την εμπειρία χρήστη. Πρέπει να μετράτε την καθυστέρηση για εργασίες και επιμέρους βήματα παρακολουθώντας τις εκτελέσεις του agent. Για παράδειγμα, ένας agent που χρειάζεται 20 δευτερόλεπτα για όλες τις κλήσεις μοντέλου θα μπορούσε να επιταχυνθεί χρησιμοποιώντας ένα ταχύτερο μοντέλο ή εκτελώντας τις κλήσεις μοντέλου παράλληλα.

**Κόστος:** Ποιο είναι το κόστος ανά εκτέλεση agent; Οι AI agents βασίζονται σε κλήσεις LLM που χρεώνονται ανά token ή εξωτερικές APIs. Η συχνή χρήση εργαλείων ή πολλαπλά prompts μπορεί να αυξήσει γρήγορα το κόστος. Για παράδειγμα, αν ένας agent καλεί ένα LLM πέντε φορές για οριακή βελτίωση ποιότητας, πρέπει να αξιολογήσετε αν το κόστος δικαιολογείται ή αν μπορείτε να μειώσετε τον αριθμό των κλήσεων ή να χρησιμοποιήσετε ένα φθηνότερο μοντέλο. Η παρακολούθηση σε πραγματικό χρόνο μπορεί επίσης να βοηθήσει στον εντοπισμό απροσδόκητων αυξήσεων (π.χ., σφάλματα που προκαλούν υπερβολικούς βρόχους API).

**Σφάλματα Αιτήσεων:** Πόσες αιτήσεις απέτυχε ο agent; Αυτό μπορεί να περιλαμβάνει σφάλματα API ή αποτυχημένες κλήσεις εργαλείων. Για να κάνετε τον agent σας πιο ανθεκτικό σε αυτά στην παραγωγή, μπορείτε να ρυθμίσετε εναλλακτικές λύσεις ή επαναλήψεις. Π.χ. αν ο πάροχος LLM A είναι εκτός λειτουργίας, να μεταβείτε στον πάροχο LLM B ως εφεδρικό.

**Ανατροφοδότηση Χρηστών:** Η εφαρμογή άμεσων αξιολογήσεων από χρήστες παρέχει πολύτιμες πληροφορίες. Αυτό μπορεί να περιλαμβάνει ρητές αξιολογήσεις (👍θετική/👎αρνητική, ⭐1-5 αστέρια) ή γραπτά σχόλια. Συνεχής αρνητική ανατροφοδότηση πρέπει να σας ειδοποιεί, καθώς αυτό είναι ένδειξη ότι ο agent δεν λειτουργεί όπως αναμένεται.

**Έμμεση Ανατροφοδότηση Χρηστών:** Οι συμπεριφορές των χρηστών παρέχουν έμμεση ανατροφοδότηση ακόμα και χωρίς ρητές αξιολογήσεις. Αυτό μπορεί να περιλαμβάνει άμεση επαναδιατύπωση ερωτήσεων, επαναλαμβανόμενα ερωτήματα ή κλικ σε κουμπί επαναπροσπάθειας. Π.χ. αν βλέπετε ότι οι χρήστες επαναλαμβάνουν συνεχώς την ίδια ερώτηση, αυτό είναι ένδειξη ότι ο agent δεν λειτουργεί όπως αναμένεται.

**Ακρίβεια:** Πόσο συχνά ο agent παράγει σωστά ή επιθυμητά αποτελέσματα; Οι ορισμοί της ακρίβειας ποικίλλουν (π.χ., ορθότητα επίλυσης προβλημάτων, ακρίβεια ανάκτησης πληροφοριών, ικανοποίηση χρήστη). Το πρώτο βήμα είναι να ορίσετε τι σημαίνει επιτυχία για τον agent σας. Μπορείτε να παρακολουθήσετε την ακρίβεια μέσω αυτοματοποιημένων ελέγχων, βαθμολογιών αξιολόγησης ή ετικετών ολοκλήρωσης εργασιών. Για παράδειγμα, να σημειώνετε τα traces ως "επιτυχημένα" ή "αποτυχημένα".

**Αυτοματοποιημένοι Δείκτες Αξιολόγησης:** Μπορείτε επίσης να ρυθμίσετε αυτοματοποιημένες αξιολογήσεις. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε ένα LLM για να βαθμολογήσετε την έξοδο του agent, π.χ. αν είναι χρήσιμη, ακριβής ή όχι. Υπάρχουν επίσης αρκετές βιβλιοθήκες ανοιχτού κώδικα που σας βοηθούν να βαθμολογήσετε διαφορετικές πτυχές του agent. Π.χ. [RAGAS](https://docs.ragas.io/) για RAG agents ή [LLM Guard](https://llm-guard.com/) για την ανίχνευση επιβλαβούς γλώσσας ή έγχυσης prompts.

Στην πράξη, ένας συνδυασμός αυτών των δεικτών παρέχει την καλύτερη κάλυψη της υγείας ενός AI agent. Στο [παράδειγμα notebook](../../../10-ai-agents-production/code_samples/10_autogen_evaluation.ipynb) αυτού του κεφαλαίου, θα σας δείξουμε πώς φαίνονται αυτοί οι δείκτες σε πραγματικά παραδείγματα, αλλά πρώτα θα μάθουμε πώς μοιάζει μια τυπική ροή εργασίας αξιολόγησης.

- Βελτιώστε τις καθορισμένες παραμέτρους, προτροπές και ονομασίες εργαλείων.  
| Το σύστημα πολλαπλών πρακτόρων δεν αποδίδει σταθερά | - Βελτιώστε τις προτροπές που δίνονται σε κάθε πράκτορα ώστε να είναι συγκεκριμένες και να διαφέρουν μεταξύ τους.<br>- Δημιουργήστε ένα ιεραρχικό σύστημα χρησιμοποιώντας έναν "πράκτορα δρομολόγησης" ή ελεγκτή για να καθορίσετε ποιος πράκτορας είναι ο κατάλληλος. |

Πολλά από αυτά τα ζητήματα μπορούν να εντοπιστούν πιο αποτελεσματικά με την ύπαρξη παρατηρησιμότητας. Τα ίχνη και οι μετρήσεις που συζητήσαμε νωρίτερα βοηθούν στον ακριβή εντοπισμό του σημείου όπου προκύπτουν προβλήματα στη ροή εργασίας του πράκτορα, καθιστώντας τη διαδικασία εντοπισμού σφαλμάτων και βελτιστοποίησης πολύ πιο αποδοτική.

## Διαχείριση Κόστους

Ακολουθούν ορισμένες στρατηγικές για τη διαχείριση του κόστους ανάπτυξης πρακτόρων AI σε παραγωγή:

**Χρήση Μικρότερων Μοντέλων:** Τα Μικρά Γλωσσικά Μοντέλα (SLMs) μπορούν να αποδώσουν καλά σε ορισμένες περιπτώσεις χρήσης πρακτόρων και να μειώσουν σημαντικά το κόστος. Όπως αναφέρθηκε νωρίτερα, η δημιουργία ενός συστήματος αξιολόγησης για τον καθορισμό και τη σύγκριση της απόδοσης σε σχέση με μεγαλύτερα μοντέλα είναι ο καλύτερος τρόπος για να κατανοήσετε πόσο καλά θα αποδώσει ένα SLM στη δική σας περίπτωση χρήσης. Εξετάστε τη χρήση SLMs για απλούστερες εργασίες, όπως η ταξινόμηση προθέσεων ή η εξαγωγή παραμέτρων, ενώ κρατήστε τα μεγαλύτερα μοντέλα για πιο σύνθετους συλλογισμούς.

**Χρήση Μοντέλου Δρομολόγησης:** Μια παρόμοια στρατηγική είναι η χρήση ποικιλίας μοντέλων και μεγεθών. Μπορείτε να χρησιμοποιήσετε ένα LLM/SLM ή μια serverless λειτουργία για να δρομολογήσετε αιτήματα ανάλογα με την πολυπλοκότητα στα κατάλληλα μοντέλα. Αυτό θα βοηθήσει στη μείωση του κόστους, διασφαλίζοντας παράλληλα την απόδοση στις κατάλληλες εργασίες. Για παράδειγμα, δρομολογήστε απλά ερωτήματα σε μικρότερα, ταχύτερα μοντέλα και χρησιμοποιήστε μόνο τα ακριβά μεγάλα μοντέλα για σύνθετους συλλογισμούς.

**Αποθήκευση Απαντήσεων (Caching):** Ο εντοπισμός κοινών αιτημάτων και εργασιών και η παροχή απαντήσεων πριν περάσουν από το σύστημα πρακτόρων είναι ένας καλός τρόπος για να μειωθεί ο όγκος παρόμοιων αιτημάτων. Μπορείτε ακόμη να υλοποιήσετε μια διαδικασία για να εντοπίσετε πόσο παρόμοιο είναι ένα αίτημα με τα αποθηκευμένα αιτήματα χρησιμοποιώντας πιο βασικά μοντέλα AI. Αυτή η στρατηγική μπορεί να μειώσει σημαντικά το κόστος για συχνές ερωτήσεις ή κοινές ροές εργασίας.

## Ας δούμε πώς λειτουργεί αυτό στην πράξη

Στο [παράδειγμα notebook αυτής της ενότητας](../../../10-ai-agents-production/code_samples/10_autogen_evaluation.ipynb), θα δούμε παραδείγματα για το πώς μπορούμε να χρησιμοποιήσουμε εργαλεία παρατηρησιμότητας για την παρακολούθηση και αξιολόγηση του πράκτορά μας.

## Προηγούμενο Μάθημα

[Σχεδιαστικό Πρότυπο Μεταγνώσης](../09-metacognition/README.md)

## Επόμενο Μάθημα

[MCP](../11-mcp/README.md)

**Αποποίηση ευθύνης**:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία αυτόματης μετάφρασης AI [Co-op Translator](https://github.com/Azure/co-op-translator). Παρόλο που καταβάλλουμε προσπάθειες για ακρίβεια, παρακαλούμε να έχετε υπόψη ότι οι αυτόματες μεταφράσεις ενδέχεται να περιέχουν λάθη ή ανακρίβειες. Το πρωτότυπο έγγραφο στη μητρική του γλώσσα θα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή εσφαλμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.